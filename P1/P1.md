# Computación en la nube

## Manual de actividad practica 1: Despliegue básico

El objetivo de esta practica es tener una primera toma de contacto con los servicios de AWS y aplicar los conocimientos obtenidos en la clase teórica. Para ello se utilizara el servicio EC2 para  preparar y desplegar instancias en la nube.

## Actividades

### 1. Despliega una instancia en EC2 que se pueda acceder por SSH desde el exterior, que llamaremos SSH_gate

Desde el panel de servicios de AWS seleccionamos la opción de EC2

![EC2 Dashboard](img/ec2_dashboard.png)

1. **Desplegamos una instancia con las siguientes características:**

- AMI: `Amazon Linux 2023`
  - ID: `ami-0ebfd941bbafe70c6`
- Instance Type: `t2.micro`
  - Family: `t2`
  - vCPU: `1`
  - RAM: `1 GiB`
- Key Pair: `vockey`

2. **Almacenamiento:**

- Volume: `8 GiB`
- Type: `gp3`

3. **Configuración de la Red y del Grupo de Seguridad:**

- VPC: `default`
- Subnet: `default`
- Public IP: `Auto-assign public IP`
- Security Group:
  - Name: `SSH_gate`
  - Description: `Security group for SSH_gate`
  - Inbound Rules:
    - Type: `SSH`
      - Port Range: `22`
      - Source: `0.0.0.0/0` (Anywhere)

4. **Lanzamos la instancia y esperamos a que esté disponible**

![EC2 Dashboard](img/ec2_instance_running.png)

5. **Accedemos a la instancia `SSH_gate` por SSH**

Nos hace falta:

- Un cliente SSH
- La clave privada: `vockey.pem`
  - En linux/macOS: `chmod 400 vockey.pem`
- El usuario: `ec2-user`
- La dirección IP pública de la instancia: `ec2-54-87-55-252.compute-1.amazonaws.com`

```bash
ssh -i "~/.ssh/vockey.pem" ec2-user@ec2-54-87-55-252.compute-1.amazonaws.com
```

![SSH connection](img/ssh_connection.png)

## Despliegue una instancia en EC2 que tenga una servidor web en la que muestre su nombre y su afición favorita. Esta maquina solo podrá ser accedida por SSH desde la maquina que desplegamos anteriormente SSH_gate.
   
Hay muchas formas de montar un servidor web, pero aquí tienen un script simple que 
deberán modificar y os podría servir de punto de inicio:

```bash
#!/bin/bash
yum update -y
yum -y install httpd
systemctl enable httpd
systemctl start httpd
echo '<html><h1>&#925&#927 &#924&#917 h&#917 l&#917&#921d&#927 l&#913 
&#929r&#913ct&#921c&#913</h1></html>' > /var/www/html/index.html
```
